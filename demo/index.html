<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>OpenPlayer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="../dist/om_player.css">
    <style>
        body {
            max-width: 700px;
        }
    </style>
</head>
<body>
    <div class="players">
        <h1>Video Sample</h1>
        <video class="om-player" controls playsinline webkit-playsinline>
            <!-- data-om-ads="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpostonly&cmsid=496&vid=short_onecue&correlator=">-->
            <source src="http://rmcdn.2mdn.net/Demo/vast_inspector/android.mp4" type="video/mp4">
        </video>
        <div>
            <label>Change source <select name="sources">
                <option value="http://rmcdn.2mdn.net/Demo/vast_inspector/android.mp4">MP4</option>
                <option value="http://ep-lin-upload.s3.amazonaws.com/vupl_lin/F64/CDF/F64CDF3B0348471E95C244DE2DDDD3F3">MP4 (no ext.)</option>
                <option value="https://upload.wikimedia.org/wikipedia/commons/2/22/Volcano_Lava_Sample.webm">WebM</option>
                <option value="https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8">HLS</option>
                <option value="https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd">M(PEG)-DASH</option>
            </select>
            </label>
        </div>
    </div>

    <div class="players">
        <h1>Audio Sample</h1>
        <audio class="om-player" controls>
            <source src="https://api.soundcloud.com/tracks/323195515/stream?client_id=95f22ed54a5c297b1c41f72d713623ef" type="audio/mp3">
        </audio>
        <div>
            <label>Change source <select name="sources">
                <option value="https://api.soundcloud.com/tracks/323195515/stream?client_id=95f22ed54a5c297b1c41f72d713623ef">MP3 (SoundCloud)</option>
                <option value="http://www.largesound.com/ashborytour/sound/AshboryBYU.mp3">MP3</option>
                <option value="http://www.vorbis.com/music/Hydrate-Kenny_Beltrey.ogg">OGG</option>
                <option value="http://db3.indexcom.com/bucket/ram/00/05/64k/05.m3u8">HLS</option>
            </select>
            </label>
        </div>
    </div>

    <script src="../dist/om_player.js"></script>
    <script>
        var sourcesSelector = document.querySelectorAll('select[name=sources]');
	    var sourcesTotal = sourcesSelector.length;

        for (var i = 0; i < sourcesTotal; i++) {
            sourcesSelector[i].addEventListener('change', function () {
                const id = this.closest('.players').querySelector('.om-player').id;
                const player = OpenPlayer.instances[id];

                player.src = this.value.replace('&amp;', '&');
                player.load();
            });
        }
    </script>
</body>
</html>
